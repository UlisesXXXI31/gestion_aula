<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestor de Notas - PWA</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
     <link rel="apple-touch-icon" sizes="180x180" href="/gestion_aula/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/gestion_aula//favicon-32x32.png">
   <link rel="icon" type="image/png" sizes="16x16" href="/gestion_aula//favicon-16x16.png">
   <link rel="manifest" href="gestion_aula//site.webmanifest"> 
    <meta name="theme-color" content="#2196F3"/> <!-- Color de la barra de direcciones en Android -->
</head>
<body>
    <header>
     <img src="/gestion_aula/eis.jpg" alt="Gestor de Notas de Clase Logo" style="width: 120px; height: 120px;">   
    <h1>Gestor de Notas de Clase</h1>
    <div class="controls">
        <select id="courseSelector">
            <option value="">Seleccionar Curso</option>
            <option value="primaria">Primaria</option>
            <option value="secundaria">Secundaria</option>
        </select>
        <select id="classSelector" disabled>
            <option value="">Seleccionar Clase</option>
        </select>
        <button id="addClassBtn">Nueva Clase</button>
        <button id="addStudentBtn">Añadir Alumno</button>
        <!-- En tu HTML, por ejemplo, dentro de la sección .controls o similar -->
        <button id="exportStudentsBtn">Exportar Alumnos a Excel</button>
    </div>
</header>

<main>
    <!-- Modal para añadir nueva clase -->
    <div id="addClassModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Añadir Nueva Clase</h2>
            <select id="newClassCourseSelector">
                <option value="">Seleccionar Curso</option>
                <option value="primaria">Primaria</option>
                <option value="secundaria">Secundaria</option>
            </select>
            <input type="text" id="newClassName" placeholder="Ej: P3A, E1C" required>
            <button id="saveClassBtn">Guardar Clase</button>
        </div>
    </div>

    <!-- Modal para añadir alumno (ya lo tenías, asegúrate de que esté después del nuevo modal si sigues el orden) -->
    <div id="addStudentModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Añadir Nuevo Alumno</h2>
            <input type="text" id="newStudentName" placeholder="Nombre del Alumno" required>
            <button id="saveStudentBtn">Guardar Alumno</button>
        </div>
    </div>

        <table id="gradesTable">
    <thead>
        <tr>
            <th>Nombre Alumno</th>
            <th>Positivos</th>
            <th>Negativos</th>
            <th>Nota Final Global</th>
            <th>1ª Evaluación</th>
            <th>2ª Evaluación</th>
            <!-- NUEVAS COLUMNAS AQUÍ -->
            <th>3ª Evaluación (Grado 12)</th> 
            <th>Nota Final Curso</th>
            <th>Acciones</th>
        </tr>
    </thead>

    <!-- Nuevo Modal para Detalles del Alumno y Gestión de Grados -->
    <div id="studentDetailModal" class="modal">
        <div class="modal-content large-modal"> <!-- Clase para un modal más grande -->
            <span class="close-button">&times;</span>
            <h2 id="studentDetailName"></h2>
            
            <div class="student-summary">
                <p>Positivos: <span id="detailPositives" class="positive-display">0</span></p>
                <p>Negativos: <span id="detailNegatives" class="negative-display">0</span></p>
                <p>Nota Final Global: <span id="detailFinalGlobal" class="final-grade">N/A</span></p>
                <p>1ª Evaluación: <span id="detailEval1" class="final-grade">N/A</span></p>
                <p>2ª Evaluación: <span id="detailEval2" class="final-grade">N/A</span></p>
                <button id="addGradeBtn">Añadir Grado</button>
            </div>
            <!-- En tu HTML, dentro del studentDetailModal, donde tengas los detalles de notas -->
   <div class="modal-content">
    <span class="close-button">&times;</span>
    <h2 id="studentDetailName">Detalles del Alumno</h2>
    <p>Positivos: <span id="detailPositives">0</span></p>
    <p>Negativos: <span id="detailNegatives">0</span></p>
    <p>Nota Final Global (Media de todos los grados): <span id="detailFinalGlobal">N/A</span></p>
    <p>1ª Evaluación: <span id="detailEval1">N/A</span></p>
    <p>
    </div>

            <h3>Grados del Alumno:</h3>
            <div id="gradesContainer">
                <!-- Los grados se cargarán aquí -->
            </div>
            
        </div>
        
     

    <!-- Modal para añadir/editar Grado -->
    <div id="gradeModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2 id="gradeModalTitle">Añadir/Editar Grado</h2>
            <input type="number" id="gradeNumber" placeholder="Número de Grado (ej: 1)" min="1" required>
            <input type="text" id="gradeName" placeholder="Nombre del Grado (opcional)" >
            <p>Nota Trabajo Clase (0-10): <input type="number" min="0" max="10" step="0.01" value="0" id="gradeClasswork"></p>
            <p>Nota Comportamiento (0-10): <input type="number" min="0" max="10" step="0.01" value="0" id="gradeBehavior"></p>
            <p>Nota Goethe (0-10): <input type="number" min="0" max="10" step="0.01" value="0" id="gradeGoethe"></p>
            <p>Nota Examen (0-10): <input type="number" min="0" max="10" step="0.01" value="0" id="gradeExam"></p>
            <button id="saveGradeBtn">Guardar Grado</button>
        </div>
    </div>

</main>

    <script src="app.js"></script>
</body>
</html>
